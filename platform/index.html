<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Auth minimal</title>
  <style>
    body { font-family: system-ui, sans-serif; display:flex; align-items:center; justify-content:center; min-height:100vh; margin:0; background:#f6f7fb; }
    .card { background:#fff; padding:20px; border-radius:10px; box-shadow:0 6px 18px rgba(18,24,40,0.08); width:380px; }
    h1 { font-size:18px; margin:0 0 12px; }
    label { display:block; font-size:13px; margin:8px 0 4px; color:#333; }
    input { width:100%; padding:8px 10px; border-radius:6px; border:1px solid #e3e6ef; box-sizing:border-box; }
    button { margin-top:12px; width:100%; padding:9px 12px; border-radius:8px; border:0; background:#2563eb; color:white; font-weight:600; cursor:pointer; }
    button.secondary { background:#111827; opacity:.85; }
    .row { display:flex; gap:8px; }
    .info { margin-top:12px; font-size:13px; color:#111827; background:#f2f4ff; padding:8px; border-radius:6px; }
    pre { background:#0b1220; color:#d6e9ff; padding:8px; border-radius:6px; max-height:160px; overflow:auto; }
    .muted { font-size:12px; color:#6b7280; margin-top:8px; }
  </style>
</head>
<body>
  <div class="card" role="main">
    <h1>Gestión de sesión (cookies HttpOnly)</h1>

    <!-- Registro -->
    <div id="registerForm">
      <h2>Registro</h2>
      <label for="regUsername">Username</label>
      <input id="regUsername" type="text" placeholder="nombre de usuario" />

      <label for="regEmail">Email</label>
      <input id="regEmail" type="email" placeholder="usuario@ejemplo.com" />

      <label for="regPassword">Contraseña</label>
      <input id="regPassword" type="password" placeholder="••••••••" />

      <button id="btnRegister">Registrar</button>
    </div>

    <hr style="margin:20px 0;"/>

    <!-- Login -->
    <div id="loginForm">
      <h2>Login</h2>
      <label for="email">Email</label>
      <input id="email" type="email" placeholder="usuario@ejemplo.com" />

      <label for="password">Contraseña</label>
      <input id="password" type="password" placeholder="••••••••" />

      <button id="btnLogin">Iniciar sesión</button>
    </div>

    <div style="margin-top:10px;">
      <div class="row">
        <button id="btnPerfil" class="secondary">Obtener perfil</button>
        <button id="btnLogout" class="secondary">Cerrar sesión</button>
      </div>
    </div>

    <div id="status" class="info muted">Estado: desconectado</div>
    <pre id="output" style="display:none"></pre>

    <div class="muted">
      Nota: este ejemplo usa <code>credentials: "include"</code> para enviar cookies HttpOnly al backend.
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
